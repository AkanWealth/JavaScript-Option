<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASYNC Test</title>
</head>

<body>
    <script>
        function createAudio(videoSource) {

            return new Promise(function(resolve, reject) {
                let video = document.createElement('video');
                let source = document.createElement('source');
                video.setAttribute('controls', 'controls')
                video.setAttribute('id', 'video')
                source.src = videoSource;
                video.appendChild(source)
                video.onload = function() {
                    resolve(video)
                }
                video.onerror = function() {
                    reject(new Error("Video source not valid"))
                }
                document.body.appendChild(video);
            })


        }

        async function playAudio() {
            createAudio("https://www.googleadservices.com/pagead/aclk?sa=L&ai=Cm11GkESZX4zxHIuoxwLgp4C4BMeT2-Ff-pjG-ugMZBABIABgt7yDhfQwggEXY2EtcHViLTYyMTk4MTE3NDcwNDkzNzGoAwSqBIcCT9DbENr-jHyTk-djCW9X-SNPBs60wDT9Edo3__B5JytUjn_xKhgYzFz5lnlXsf1kOuEC7__W7HhTfCtA__d9sa_d0RhwhpCd8-PQ6Cwrgw7Aiu0A2-Sxzgmd1po9km5qEW0fonnELwIS8GOhRkPJREYwbvLJeu_NrCyVF8U64T5URu89fWifzPtYtzPs6uGN5ltwiq3bRup8dNjmeM0Kv37Bx9u4zyPmpBIBIxEpGIw2wWc9p7-HLYuwx-IwpcIbhlLkuSdLaLmtb3N2CUWAAlLgNEkyf_jT9U5lFezKyaivw3ezzPrmZYUEDVKJpAibDKp5hskYOayxhJXns6npL4nPWEHaRb-SBQ0IEjDdkY-k95CawtMBkgUHCBN4pffdN6AGVYAH5YblNogHAZAHAqgHqNIbqAe2B6gH4M8bqAfp1BuoB7bXG6gHjM0bqAex3BuoB_DZG6gH1c4bqAeBxhuoB5jOG6gHq8UbqAfezhuoB7_VG6gHwtobkggLMDRSb2gzU0R5TjDSCAQIABACsQmD-tY1seceLcgJF5gLAboLGwgDEAMYBiAGKAEwBUABSABYC2AAaABwAYgBANALE7gT____________AbAUA8AVgYCAQNgVAQ&num=1&cid=CAESD-D2ZyjDAeDrMtBMWxGUZQ&sig=AOD64_0VW8IUMwGjfMhbaMLf7-qUzK5Ldw&adurl=http://www.youtube.com/watch%3Fv%3D04Roh3SDyN0&ctype=21&video_id=04Roh3SDyN0&client=ca-pub-6219811747049371")
            await document.getElementById("video").play();
        }

        playAudio();
    </script>
</body>

</html>